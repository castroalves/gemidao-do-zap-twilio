<!DOCTYPE html>
<html lang="en">
<head>
	<title>Dia dos Pais - Envie uma mensagem para o seu pai!</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Envie uma mensagem para o seu pai!">
    <meta name="author" content="Cadu de Castro Alves">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,700">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.6.8/sweetalert2.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>
	<div class="site-wrapper">

	  <div class="site-wrapper-inner">

	    <div class="cover-container">

	      <!-- <div class="masthead clearfix">
	        <div class="inner">
	          <h3 class="masthead-brand">Gemidão App</h3>
	          <nav class="nav nav-masthead">
	            <a class="nav-link active" href="#">Home</a>
	            <a class="nav-link" href="#">Features</a>
	            <a class="nav-link" href="#">Contact</a>
	          </nav>
	        </div>
	      </div> -->

	      <div class="inner cover">
	        <h1 class="cover-heading">Envie uma mensagem para o seu pai!</h1>
	        <p class="lead">Seu pai receberá a mensagem por ligação de celular. É de graça! Envie agora mesmo!</p>
			<div class="row">
	        	<div class="col-sm-6 form-gemidao">
			        <form action="/call" method="post" enctype="application/x-www-form-urlencoded" class="form">
						<div class="form-group row">
							<label for="from" class="col-sm-2 col-form-label">De:</label>
							<div class="col-sm-10">
								<input type="text" name="from" id="from" class="form-control form-control-lg" maxlength="11">
							</div>
						</div>
						<div class="form-group row">
							<label for="to" class="col-sm-2 col-form-label">Para:</label>
							<div class="col-sm-10">
								<input type="text" name="to" id="to" class="form-control form-control-lg" maxlength="11">
							</div>
						</div>
						<div class="form-group row">
							<div class="col-sm-2"></div>
							<div class="col-sm-10">
								<button type="submit" class="btn btn-success btn-lg btn-block">Enviar</button>
							</div>
						</div>
					</form>
				</div>
			</div>
	      </div>

	      <div class="mastfoot">
	        <div class="inner">
	          <p>Desenvolvido por <a href="https://github.com/castroalves" target="_blank">@castroalves</a>. Inspirado na versão original criada por <a href="https://github.com/haskellcamargo/gemidao-do-zap" target="_blank">@haskellcamargo</a>.
	          <br />Hospedado gratuitamente por <a href="https://wedeploy.com/?utm_source=castroalves&utm_medium=footer-link&utm_campaign=dia-dos-pais" target="_blank">WeDeploy™</a>.</p>
	        </div>
	      </div>

	    </div>

	  </div>

	</div>
	<script type="text/javascript" src="assets/js/jquery-3.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
	<script type="text/javascript" src="assets/js/jquery.maskedinput.min.js"></script>
	<script type="text/javascript" src="assets/js/ie10-viewport-bug-workaround.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.6.8/sweetalert2.min.js"></script>
	<script type="text/javascript">
	(function() {
		$("#from").mask("(99) 99999-9999");
		$("#to").mask("(99) 99999-9999");
		$('.form').submit(function(e) {
			
			e.preventDefault();

			console.log('form submit');

			if( $('#from').val() && $('#to').val() ) {
				
				$.post({
					url: '/call',
					data: {
						from: $('#from').val(),
						to: $('#to').val()
					},
					success: function(data, status) {
						if( data.success ) {
							swal(
								'Parabéns!',
								data.message,
								'success'
							);
						} else {
							swal(
								'Ops!',
								data.message,
								'error'
							);
						}
					}
				});

			} else {
				swal(
					'Erro!',
					'Você deve preencher os dois campos. Tente novamente!',
					'error'
				);
			}

		})
	})();
	</script>
</body>
</html>